<!DOCTYPE hrml>
<html lang="en">

<head>
  <meta charset="urf-8">
  <title>Hw3</title>
  <script type="text/javascript" src="d3.js"></script>  
  <link rel="stylesheet" type="text/css" media="screen" href="stylesheet.css">
</head>

<body>
  <h1 style="text-align:center">Math and science correation</h1>
  <!--Table-->
  <div style="height: 90%; float:left; position:fixed;overflow: scroll;">
     <table align=center>
      <tbody>
        <tr>
          <th>Country</th>
          <th>Math score</th>
          <th>Science score</th>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="scatter" style="position:relative; left:200px;"></div>

  <script type="text/javascript">
    d3.csv("mathsciencecorr.csv", function(data){
      //Draw scatterplot
      var w=600;
      var h=w;
      svg=d3.select("#scatter")
            .append("svg")
            .attr("width",w)
            .attr("height",h)
            .style("background","ghostwhite"); 
      svg.selectAll("#bluecircle")
        .data(data)
        .enter()
        .append("circle")
        .attr("cx", function(d){return +d.Mathematics/610*w})
        .attr("cy", function(d){return +(1-d.Science/610)*h})
        .attr("r", 3)
        .attr("fill", "white")
        .attr("stroke", "blue")
        .attr("stroke-width", "1.5px");
      for(var i=0;i*40<=w;i++){
        for(var j=0;j*40<=h;j++){
          svg.append("circle")
          .attr("cx",i*40)
          .attr("cy",j*40)
          .attr("r", 1)
          .attr("fill", "black");
        }  
      }
      //Print chart
      for(var i=0; i<data.length;i++){
        var pais=d3.select("tbody").append("tr")
        pais.append("td").text(data[i].Country)
        pais.append("td").text(data[i].Mathematics)
        pais.append("td").text(data[i].Science)
      }
    });
  </script>
  
</body>

</html>
