<!DOCTYPE hrml>
<html lang="en">

<head>
  <meta charset="urf-8">
  <title>Hw3</title>
  <script type="text/javascript" src="d3.js"></script>  
  <link rel="stylesheet" type="text/css" media="screen" href="stylesheet.css">
  <style>
    .axis path, 
    .axis line{
      fill:none;
      stroke: black;
      shape-rendering: crispEdges;
    }
    .axis text{
      font-family: sans-serif;
      font-size:11px;
    }
  </style>
</head>

<body>
  <h1 style="text-align:center">Math/science trade-off?</h1>
  <!--Table-->
  <div style="padding:10px; height: 90%;width:350;float: left; overflow: scroll;">
     <table align=center>
      <tbody>
        <tr>
          <th>Country</th>
          <th>Math score</th>
          <th>Science score</th>
        </tr>
      </tbody>
    </table>
  </div>

  <div id="scatter" style="padding:10px; float:left;"></div>

  <script type="text/javascript">
    d3.csv("mathsciencecorr.csv", function(data){
      //Draw scatterplot
      var w=500;
      var h=w;
      //Create SVG
      var padding=50;
      svg=d3.select("#scatter")
            .append("svg")
            .attr("width",w)
            .attr("height",h)
            .style("background","ghostwhite"); 
      //Scales
      var xScale= d3.scale.linear()
                          .domain([0,610])
                          .range([padding,w-padding]);
      var yScale= d3.scale.linear()
                          .domain([0,610])
                          .range([h-padding,padding]);
      //Create circles
      svg.selectAll("#bluecircle")
        .data(data)
        .enter()
        .append("circle")
        .attr("cx", function(d){return +xScale(d.Mathematics)})
        .attr("cy", function(d){return +yScale(d.Science)})
        .attr("r", 3)
        .attr("fill", "white")
        .attr("stroke", "blue")
        .attr("stroke-width", "1.5px");
      //Print axes
      svg.append("g")
        .attr("class","axis")
        .attr("transform","translate(0,"+(h-padding)+")")
        .call(d3.svg.axis()
        .scale(xScale)
        .orient("bottom")
        .ticks(5));
      svg.append("g")
        .attr("class","axis")
        .attr("transform","translate("+padding+",0)")
        .call(d3.svg.axis()
        .scale(yScale)
        .orient("left")
        .ticks(5));
      //Draw graph lines
      for(var i=1;i<7;i++){
       svg.append("line") 
          .attr("x1",xScale(i*100)).attr("y1",h-padding)
          .attr("x2",xScale(i*100)).attr("y2",padding)
          .attr("style","stroke:grey;stroke-width:1px")
          .attr("shape-rendering:crispEdges");
      }
      //Add axes lables
      svg.append("text")
          .attr("x",w/2-padding)
          .attr("y",h-padding)
          .attr("fill", "black")
          .text(function(){return "Math scores";});
      svg.append("text")
          .attr("x",0)
          .attr("y",h/2+padding)
          .attr("fill", "black")
          .attr("transform","rotate(-90,10,"+(h/2+padding-10)+")")
          .text(function(){return "Science scores";});
      //Print chart
      for(var i=0; i<data.length;i++){
        var pais=d3.select("tbody").append("tr")
        pais.append("td").text(data[i].Country)
        pais.append("td").text(data[i].Mathematics)
        pais.append("td").text(data[i].Science)
      }
    });
  </script>

<div style="width:100%; padding:10px;float:left;"
  <p>Source of dataset: <a href="http://nces.ed.gov/programs/digest/d12/tables/dt12_460.asp"> National Center of Educational Statistics</a></p>
 </div>

</body>

</html>
