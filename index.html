<!DOCTYPE hrml>
<html lang="en">

<head>
  <meta charset="urf-8">
  <title>Hw3</title>
  <script type="text/javascript" src="d3.js"></script>  
  <link rel="stylesheet" type="text/css" media="screen" href="stylesheet.css">
</head>

<body>
  <h1 style="text-align:center">Math and science correation</h1>
  
  <div id="scatter" style="text-align:center"></div>
  
  <!--Table-->
  <table align=center>
    <tbody>
      <tr>
        <th>Country</th>
        <th>Math score</th>
        <th>Science score</th>
      </tr>
    </tbody>
  </table>
  
  <script type="text/javascript">
    d3.csv("mathsciencecorr.csv", function(data){
      //Draw scatterplot
      var w=700;
      var h=700;
      svg=d3.select("#scatter")
            .append("svg")
            .attr("width",w)
            .attr("height",h)
            .style("background","ghostwhite"); 
      svg.selectAll("#bluecircle")
        .data(data)
        .enter()
        .append("circle")
        .attr("cx", function(d){return +d.Mathematics/610*w})
        .attr("cy", function(d){return +(1-d.Science/610)*h})
        .attr("r", 3)
        .attr("fill", "white")
        .attr("stroke", "blue")
        .attr("stroke-width", "1px");
      for(var i=0;i*20<=w;i++){
        for(var j=0;j*20<=h;j++){
          svg.append("circle")
          .attr("cx",i*20)
          .attr("cy",j*20)
          .attr("r", 1)
          .attr("fill", "black");
        }  
      }
      //Print chart
      for(var i=0; i<data.length;i++){
        var pais=d3.select("tbody").append("tr")
        pais.append("td").text(data[i].Country)
        pais.append("td").text(data[i].Mathematics)
        pais.append("td").text(data[i].Science)
      }
    });
  </script>
  
</body>

</html>
